(this["webpackJsonpticket-app"]=this["webpackJsonpticket-app"]||[]).push([[0],{18:function(e,t,r){},19:function(e,t,r){},247:function(e,t,r){"use strict";r.r(t);var s=r(1),a=r(45),c=r.n(a),n=r(3),o=r(101),i=r(7),j=r.n(i),l=r(11),b=r(6),d=r(8),u="LOADING",m="EMAIL",p="AUTHENTICATION",O=function(e){return{type:p,bool:e}},x=function(e){return{type:u,bool:e}},h=(r(18),r(19),r.p+"static/media/logo.8162c12e.png"),f=r(0),g=function(){Object(d.g)();return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"nav-head",children:[Object(f.jsx)("img",{className:"logo",src:h,alt:"Logo"}),Object(f.jsx)("div",{children:Object(f.jsx)("p",{className:"bottom-tab-text",children:"\xa9 2021 MYTICKET.COM. ALL RIGHTS RESERVED"})})]})})},v=r(5),w=function(){Object(d.g)(),Object(b.c)((function(e){return e.Auth.isLogged}));Object(s.useEffect)((function(){window.addEventListener("scroll",e)}),[]);var e=function(){window.scrollY>20?document.querySelector(".header").className="header scroll":document.querySelector(".header").className="header"};return Object(f.jsxs)("div",{className:"header",children:[Object(f.jsx)("img",{className:"logo",src:h,alt:"Logo"}),Object(f.jsxs)("div",{className:"header-right",children:[Object(f.jsx)(v.b,{className:"header-text",children:"Upcoming"}),Object(f.jsx)(v.b,{className:"header-text",children:"Events"}),Object(f.jsx)(v.b,{className:"header-text",children:"Search"}),Object(f.jsx)(v.b,{className:"header-text",children:"Gallery"}),Object(f.jsx)(v.b,{className:"header-text",children:"Contact"})]})]})},N=r(35),y=r(36),S=function(){Object(d.g)();return Object(b.c)((function(e){return e.Auth.isLogged}))?Object(f.jsx)("div",{style:{backgroundColor:"#161616"},children:Object(f.jsx)(w,{})}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"nav-head",children:[Object(f.jsxs)("div",{children:[Object(f.jsxs)(v.b,{className:"nav-text",children:[Object(f.jsx)(N.a,{className:"nav-text-orange",icon:y.b}),"999999999"]}),Object(f.jsxs)(v.b,{className:"nav-text",children:[Object(f.jsx)(N.a,{className:"nav-text-orange",icon:y.a}),"hello@gmail.com"]})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)(v.b,{className:"nav-text-orange",to:"/login",children:"SIGN IN"}),"|",Object(f.jsx)(v.b,{className:"nav-text",to:"/sign-up",children:"SIGN UP"})]})]}),Object(f.jsx)(w,{})]})},k=function(){var e=Object(d.g)(),t=Object(b.b)();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(S,{}),Object(f.jsx)("h1",{children:" this is Admin page "}),Object(f.jsx)("input",{type:"button",value:"LogOut",onClick:function(){localStorage.clear(),t(O(!1)),e.push("/login")}}),Object(f.jsx)("input",{type:"button",value:"Profile",onClick:function(){e.push("/admin/profile")}}),Object(f.jsx)("div",{className:"fixed-bottom-tab",children:Object(f.jsx)(g,{})})]})},P=function(){Object(d.g)();return Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)(S,{}),Object(f.jsxs)("div",{className:"home-body",children:[Object(f.jsx)("h1",{className:"home-title",children:"Make Your Dream Come True"}),Object(f.jsx)("p",{className:"home-caption",children:"Meet your favorite artists, sport teams and parties"}),Object(f.jsxs)("div",{className:"home-input",children:[Object(f.jsx)("input",{type:"text",placeholder:"Search",className:"home-input-box"}),Object(f.jsx)(N.a,{className:"home-search",icon:y.c})]}),Object(f.jsx)("p",{className:"home-caption",children:"Chennai, Tamilnadu"}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{})]}),Object(f.jsx)(g,{})]})},I=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(S,{}),Object(f.jsx)("h1",{children:" this is profile page "}),Object(f.jsx)("div",{className:"fixed-bottom-tab",children:Object(f.jsx)(g,{})})]})},E=function(){var e=Object(d.g)(),t=Object(b.b)();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(S,{}),Object(f.jsx)("h1",{children:" this is User page "}),Object(f.jsx)("input",{type:"button",value:"LogOut",onClick:function(){localStorage.clear(),t(O(!1)),e.push("/login")}}),Object(f.jsx)("input",{type:"button",value:"Profile",onClick:function(){e.push("/user/profile")}}),Object(f.jsx)("div",{className:"fixed-bottom-tab",children:Object(f.jsx)(g,{})})]})},F=r(25),R=function(e){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("label",{className:"label",htmlFor:"".concat(e.name),children:e.title}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{className:"input",type:"".concat(e.type),name:"".concat(e.name),id:"".concat(e.name),onChange:e.onChange,onBlur:e.onBlur,value:e.value}),Object(f.jsx)("br",{}),e.errors&&e.touched?Object(f.jsx)("div",{className:"error",children:e.errors}):null]})},q=r(96),L=r.n(q),C=function(){return Object(f.jsx)("div",{className:"loader",children:Object(f.jsx)(L.a,{type:"ThreeDots",color:"#2BAD60"})})},A=r(10),T=A.a({username:A.c().required("Username is Required"),firstname:A.c().required("Firstname is Required"),lastname:A.c().required("Lastname is Required"),email:A.c().email("Invalid email address").required("Email is Required"),password:A.c().min(8,"Must be 8 characters or more").required("Password is Required"),confirmpassword:A.c().required("Password is Required").oneOf([A.b("password"),null],"Passwords must match")}),_=A.a({email:A.c().email("Invalid email address").required("Email is Required"),password:A.c().min(8,"Must be 8 characters or more").required("Password is Required")}),M=A.a({email:A.c().email("Invalid email address").required("Email is Required")}),G=A.a({password:A.c().min(8,"Must be 8 characters or more").required("Password is Required"),password_confirmation:A.c().required("Password is Required").oneOf([A.b("password"),null],"Passwords must match"),token:A.c().required("Token is Required")}),J=r(100),U=r.n(J).a.create({baseURL:"https://erp.arulphpdeveloper.com/api/"});function D(e){return V.apply(this,arguments)}function V(){return(V=Object(l.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.post("login",t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function Y(e){return B.apply(this,arguments)}function B(){return(B=Object(l.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.post("forgotPassword",t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function K(e){return H.apply(this,arguments)}function H(){return(H=Object(l.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.post("reset",t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var W=function(e){var t=Object(d.g)(),r=Object(b.b)(),s=Object(F.a)({initialValues:{email:""},validationSchema:M,onSubmit:function(e){var t;r((t=e.email,{type:m,email:t})),a(e.email)}}),a=function(){var e=Object(l.a)(j.a.mark((function e(s){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(x(!0)),a={email:s},e.next=4,Y(a);case 4:if(200==(c=e.sent).status){e.next=7;break}return e.abrupt("return",(r(x(!1)),alert(c.response.data.message)));case 7:r(x(!1)),alert(c.data.message),t.push("/reset-password");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{style:{backgroundColor:"#161616"},children:Object(f.jsx)(S,{})}),Object(f.jsx)("div",{className:"form-header",children:"Reset Password"}),Object(f.jsx)("div",{className:"form-control",children:Object(f.jsxs)("form",{onSubmit:s.handleSubmit,children:[Object(f.jsx)("p",{style:{textAlign:"center"},children:"To reset your password, please enter your email address or username below"}),Object(f.jsx)(R,Object(n.a)(Object(n.a)({title:"Email",type:"text"},s.getFieldProps("email")),{},{errors:s.errors.email,touched:s.touched.email})),Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"single-btn",children:Object(f.jsx)("button",{className:"btn-primary orange btn-single",children:"RESET MY PASSWORD"})})]})}),Object(f.jsx)("div",{className:"fixed-bottom-tab",children:Object(f.jsx)(g,{})})]})},z=r(29),Q=function(e){var t=Object(d.g)(),r=Object(b.b)(),a=Object(s.useState)(!1),c=Object(z.a)(a,2),o=c[0],i=c[1],u=Object(F.a)({initialValues:{email:"",password:""},validationSchema:_,onSubmit:function(e){return m(e.email,e.password)}}),m=function(){var e=Object(l.a)(j.a.mark((function e(s,a){var c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(x(!0)),c={email:s,password:a},e.next=4,D(c);case 4:if(200==(n=e.sent).status){e.next=7;break}return e.abrupt("return",(r(x(!1)),alert(n.response.data.message)));case 7:if(localStorage.setItem("credentials",JSON.stringify(c)),localStorage.setItem("TOKEN",JSON.stringify(n.data.response)),localStorage.setItem("isLogged",!0),o&&localStorage.setItem("remember",!0),2!=n.data.response.user_role){e.next=13;break}return e.abrupt("return",(localStorage.setItem("isAdmin",!0),r(x(!1)),r(O(!0)),t.push("/admin/dashboard")));case 13:if(3!=n.data.response.user_role){e.next=15;break}return e.abrupt("return",(localStorage.setItem("isAdmin",!1),r(x(!1)),r(O(!0)),t.push("/user/dashboard")));case 15:if(4!=n.data.response.user_role){e.next=17;break}return e.abrupt("return",r(x(!1)));case 17:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{style:{backgroundColor:"#161616"},children:Object(f.jsx)(S,{})}),Object(f.jsx)("div",{className:"form-header",children:"Login"}),Object(f.jsxs)("div",{className:"form-control",children:[Object(f.jsxs)("form",{onSubmit:u.handleSubmit,children:[Object(f.jsx)(R,Object(n.a)(Object(n.a)({title:"Email",type:"text"},u.getFieldProps("email")),{},{errors:u.errors.email,touched:u.touched.email})),Object(f.jsx)("br",{}),Object(f.jsx)(R,Object(n.a)(Object(n.a)({title:"Password",type:"password"},u.getFieldProps("password")),{},{errors:u.errors.password,touched:u.touched.password})),Object(f.jsx)("br",{}),Object(f.jsx)("input",{type:"checkbox",onClick:function(){return i((function(e){return!e}))},className:"checkbox"}),Object(f.jsx)("span",{children:"Keep me signed in"}),Object(f.jsxs)("div",{className:"btn",children:[Object(f.jsx)("button",{className:"btn-primary orange",children:"LOGIN"}),Object(f.jsx)("button",{className:"btn-primary",onClick:function(){return t.push("/sign-up")},children:"REGISTER"})]})]}),Object(f.jsx)("br",{}),Object(f.jsx)(v.b,{className:"forgot-btn",children:"Forgot Your Password?"})]}),Object(f.jsx)("div",{className:"fixed-bottom-tab",children:Object(f.jsx)(g,{})})]})},X=function(e){var t=Object(d.g)(),r=Object(b.b)(),s=Object(b.c)((function(e){return e.Auth.email})),a=Object(F.a)({initialValues:{token:"",password:"",password_confirmation:""},validationSchema:G,onSubmit:function(e){return c(e.token,e.password,e.password_confirmation)}}),c=function(){var e=Object(l.a)(j.a.mark((function e(a,c,n){var o,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(x(!0)),console.log("email=>",s),console.log("token=>",a),console.log("password=>",c),console.log("password_confirmation=>",n),o={email:s,token:a,password:c,password_confirmation:n},e.next=8,K(o);case 8:if(200==(i=e.sent).status){e.next=11;break}return e.abrupt("return",(r(x(!1)),alert(i.response.data.message)));case 11:r(x(!1)),alert(i.data.message),t.push("/login");case 14:case"end":return e.stop()}}),e)})));return function(t,r,s){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{style:{backgroundColor:"#161616"},children:Object(f.jsx)(S,{})}),Object(f.jsx)("div",{className:"form-header",children:"Reset Your Password"}),Object(f.jsx)("div",{className:"form-control",children:Object(f.jsxs)("form",{onSubmit:a.handleSubmit,children:[Object(f.jsx)("p",{style:{textAlign:"center"},children:"To reset your password, please enter your email address or username below"}),Object(f.jsx)(R,Object(n.a)(Object(n.a)({title:"Password",type:"password"},a.getFieldProps("password")),{},{errors:a.errors.password,touched:a.touched.password})),Object(f.jsx)("br",{}),Object(f.jsx)(R,Object(n.a)(Object(n.a)({title:"Confirm Password",type:"password"},a.getFieldProps("password_confirmation")),{},{errors:a.errors.password_confirmation,touched:a.touched.password_confirmation})),Object(f.jsx)("br",{}),Object(f.jsx)(R,Object(n.a)(Object(n.a)({title:"Verification Code",type:"text"},a.getFieldProps("token")),{},{errors:a.errors.token,touched:a.touched.token})),Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"single-btn",children:Object(f.jsx)("button",{className:"btn-primary orange btn-single",children:"CONFIRM RESET"})}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{})]})}),Object(f.jsx)(g,{})]})},Z=function(e){var t=Object(d.g)(),r=(Object(b.b)(),Object(F.a)({initialValues:{username:"",firstname:"",lastname:"",email:"",password:"",confirmpassword:""},validationSchema:T,onSubmit:function(e){return s(e.username,e.firstname,e.lastname,e.email,e.password,e.confirmpassword)}})),s=function(){var e=Object(l.a)(j.a.mark((function e(r,s,a,c,n,o){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(r),console.log(s),console.log(a),console.log(c),console.log(n),console.log(o),t.push("/login");case 7:case"end":return e.stop()}}),e)})));return function(t,r,s,a,c,n){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{style:{backgroundColor:"#161616"},children:Object(f.jsx)(S,{})}),Object(f.jsx)("div",{className:"form-header",children:"Register"}),Object(f.jsxs)("div",{className:"form-control",children:[Object(f.jsxs)("form",{onSubmit:r.handleSubmit,children:[Object(f.jsx)(R,Object(n.a)(Object(n.a)({title:"Username",type:"text"},r.getFieldProps("username")),{},{errors:r.errors.username,touched:r.touched.username})),Object(f.jsx)("br",{}),Object(f.jsx)(R,Object(n.a)(Object(n.a)({title:"First Name",type:"text"},r.getFieldProps("firstname")),{},{errors:r.errors.firstname,touched:r.touched.firstname})),Object(f.jsx)("br",{}),Object(f.jsx)(R,Object(n.a)(Object(n.a)({title:"Last Name",type:"text"},r.getFieldProps("lastname")),{},{errors:r.errors.lastname,touched:r.touched.lastname})),Object(f.jsx)("br",{}),Object(f.jsx)(R,Object(n.a)(Object(n.a)({title:"Email Address",type:"text"},r.getFieldProps("email")),{},{errors:r.errors.email,touched:r.touched.email})),Object(f.jsx)("br",{}),Object(f.jsx)(R,Object(n.a)(Object(n.a)({title:"Password",type:"password"},r.getFieldProps("password")),{},{errors:r.errors.password,touched:r.touched.password})),Object(f.jsx)("br",{}),Object(f.jsx)(R,Object(n.a)(Object(n.a)({title:"Confirm Password",type:"password"},r.getFieldProps("confirmpassword")),{},{errors:r.errors.confirmpassword,touched:r.touched.confirmpassword})),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"btn",children:[Object(f.jsx)("button",{className:"btn-primary orange",children:"REGISTER"}),Object(f.jsx)("button",{className:"btn-primary",onClick:function(){return t.push("/sign-up")},children:"LOGIN"})]})]}),Object(f.jsx)("br",{})]}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)(g,{})]})},$=["component"],ee=function(e){var t=e.component,r=Object(o.a)(e,$),s=JSON.parse(localStorage.getItem("isLogged"));return Object(f.jsx)(d.b,Object(n.a)(Object(n.a)({},r),{},{render:function(e){return s?Object(f.jsx)(t,Object(n.a)({},e)):Object(f.jsx)(d.a,{to:"/login"})}}))},te=function(e){var t=Object(d.g)(),r=Object(b.b)(),a=Object(b.c)((function(e){return e.Loader.isLoading}));return Object(s.useEffect)(Object(l.a)(j.a.mark((function e(){var s,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!JSON.parse(localStorage.getItem("remember"))){e.next=12;break}return s=JSON.parse(localStorage.getItem("credentials")),a={email:s.email,password:s.password},e.next=7,D(a);case 7:if(200==(c=e.sent).status){e.next=10;break}return e.abrupt("return");case 10:localStorage.setItem("TOKEN",JSON.stringify(c.data.response)),2==c.data.response.user_role?(t.push("/admin/dashboard"),r(x(!1)),r(O(!0))):3==c.data.response.user_role&&(t.push("/user/dashboard"),r(x(!1)),r(O(!0)));case 12:r(x(!1)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),r(x(!1));case 18:case"end":return e.stop()}}),e,null,[[0,15]])}))),[]),a?Object(f.jsx)(C,{}):Object(f.jsxs)(d.d,{children:[Object(f.jsx)(d.b,{exact:!0,path:"/",component:P}),Object(f.jsx)(d.b,{exact:!0,path:"/login",component:Q}),Object(f.jsx)(d.b,{exact:!0,path:"/sign-up",component:Z}),Object(f.jsx)(d.b,{exact:!0,path:"/forgot-password",component:W}),Object(f.jsx)(d.b,{exact:!0,path:"/reset-password",component:X}),Object(f.jsx)(ee,{exact:!0,path:"/admin/dashboard",component:k}),Object(f.jsx)(ee,{exact:!0,path:"/user/dashboard",component:E}),Object(f.jsx)(ee,{exact:!0,path:"/admin/profile",component:I}),Object(f.jsx)(ee,{exact:!0,path:"/user/profile",component:I})]})},re=function(e){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(te,{})})},se=r(50),ae={email:"",isLogged:!1},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(n.a)(Object(n.a)({},e),{},{email:t.email});case p:return Object(n.a)(Object(n.a)({},e),{},{isLogged:t.bool});default:return e}},ne={isLoading:!0},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(n.a)(Object(n.a)({},e),{},{isLoading:t.bool});default:return e}},ie=Object(se.a)({Loader:oe,Auth:ce}),je=Object(se.b)(ie),le=document.getElementById("root");c.a.render(Object(f.jsx)(b.a,{store:je,children:Object(f.jsx)(v.a,{children:Object(f.jsx)(re,{})})}),le)}},[[247,1,2]]]);
//# sourceMappingURL=main.5e9ad549.chunk.js.map